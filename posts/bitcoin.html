<!-- Post title goes here -->
<h3>Design Flaws in the Bitcoin Protocol</h3>

<!--  Post time goes here -->
<p>Posted on 05/17/2021 at 07:30:00 AM/PM</p>

<!-- Post tags go here -->
<p>#Bitcoin, #Proof of Work, #PoW, #cryptocurrency</p>

<section>Since its release in early 2009, Bitcoin has become everything from a burnt-out meme to a powerful investment asset. Recent years have seen a rise in these assets for various reasons: some think they will hedge against inflation; others think it will make them rich beyond their wildest dreams; others, like me, want cool, secure, digital cash. In the wake of the recent crypto surge, something has become incredibly apparent about the newest crypto innovations: Bitcoin has some glaring flaws in comparison. Some of these issues are small and can either be overcome of ignored by Bitcoin users; some of these issues are more fundamental, and imply a difficult future for Bitcoin adaptation. As we will see, most of these problems can be traced back to Bitcoin's Proof of Work (PoW) consensus algorithm.</section>

<div class="img-wrapper">
	<img src="images/post_2/blockchain-structure.png"/>
	<p class="image-desc">The standard structure of a PoW blockchain</p>
</div>

<section><b>Outline of the Environmental Critique</b></section>
<section>One of the most common arguments you are likely to hear against the use of Bitcoin revolves around its environmental effects on the planet. Bitcoin uses a process referred to as "mining" in order to elect participants to update the status of the Bitcoin ledger. Each participant collects the information needed for the next block; this includes transaction data, the current time, and the cryptographic hash of the previous block (which allows us to link the blocks into a chain). Additionally, the participants compete by selecting a random number (called a nonce), appending it to the block data, and hashing it twice with the SHA-256 cryptographic hash function. If the subsequent hash is less than a moving target number, then the miner will be acknowledged as having produced a valid block. Clearly, this process is just a brute force, trial and error approach to electing a miner. While this works, it's a pretty inefficient way for computers to reach consensus.</section>
<section>At the time of writing, the Bitcoin network uses approximately 151.16TWh of electricity per year.<sup>1</sup> The PoW algorithm modulates the target threshold that a miner has to fall below to have a valid block, and this is a function of the amount of hashes being executed on the network. This means that more validators, or at least more hashing power, will increase the target threshold of the PoW algorithm, making the problem even more difficult to solve.<sup>2</sup> It is partially this mechanism of modulating the difficulty that results in Bitcoin's inability to scale to a large number of users and transactions.</section>
<section>An important thing for us to be aware of is that mining rigs aren't releasing massive amounts of CO2; they just use lots of electricity, some of which might come from inefficient and harmful fuel sources like coal powered plants. While the electricity consumption of Bitcoin is quite easy to estimate, the actual environmental impact of Bitcoin is determined by a wide range of factors, including the geographic location of the mining equipment and the various, contingent sources of electricity that might be powering them.</section>
<section>There isn't much complexity to the PoW consensus paradigm, but interestingly there are some distinctions that might level the playing field of miners. As we will see, Bitcoin suffers from somewhat of a class distinction problem in that most Bitcoin users don't ever participate in the consensus process. One serious design flaw of Bitcoin was its choice in it's PoW hash function: SHA-256. Satoshi Nakamoto, the purported creator of Bitcoin, implied that Bitcoin was to be characterized by the notion "one-CPU, one-vote". The idea being that everyone would have a CPU available that could be used to mine Bitcoin. The obvious pitfall here is that people can easily own multiple CPUs, and there's a lot of diversity in the power available in modern CPUs. Not only that, Nakamoto seemed to have failed to take into account that the SHA-256 hash function can be easily parallelized in hardware, and doesn't take much memory to execute. This caveat allows miners to parallelize their hash computations on powerful GPUs as well as on custom, often patented ASIC (Application Specific Integrated Circuit) chips, which excel at performing the SHA-256 computations.</section>
<section>Whereas Nakamoto probably intended for there to be a more equitable distribution in the mining hardware for Bitcoin, the PoW algorithm gives advantages to those with more computing power. As a result, we see miners constantly attempting to scale up and scale out their mining infrastructure, thereby taking over a larger portion of the total network hash rate. As we will see, this need for expensive mining hardware creates an important rift in the Bitcoin community: there are users, and there are users who are also miners. The separating off of miners into their own subset of the users in the network contributes substantially to the centralization of the mining process.</section>

<div class="img-wrapper">
	<img src="images/post_2/miningrig.jpg"/>
	<p class="image-desc">A tiny cryptocurrency mining rig</p>
</div>

<section><b>Inefficient Aspects of Bitcoin</b></section>
<section>Bitcoin has several problems related to energy efficiency and scalability. As has already been discussed, Bitcoin's PoW algorithm is very computationally inefficient. Not only does the PoW problem increase in difficulty as the level of mining increases, but the way that the algorithm works allows for there to be competing histories of the last few blocks of the blockchain. Because the Bitcoin ledger can "fork" into multiple possible histories, new transactions are considered mutable until the blocks are far enough into the ledger. It's not clear which depth would be ideal; theoretically someone could always come along with a tremendous amount of computing power and accelerate a stubbed blockchain fork until it is longer than the official blockchain. Since Bitcoin considers the longest chain to be the legitimate one, validators would end up mining off of this new chain. So real transaction finality doesn't occur immediately with Bitcoin, and when it does, it can still be pretty tenuous.</section>

<section>Because Bitcoin's blockchain can fork into competing chains, there is a motivation to increase the difficulty of the PoW algorithm such that blocks are validated at a regular enough pace, but that the PoW problem isn't so easy to solve that large numbers of validators produce valid candidate blocks at the same time, thereby introducing massive amounts of forks, and uncertainty, into the blockchain.
</section>

<div class="img-wrapper">
	<img src="images/post_2/ledgerfork.png">
	<p class="image-desc">Competing histories from two miners; ultimately one will be selected</p>
</div>

<section>Subsequently, the Bitcoin protocol was designed to validate new blocks on average every ten minutes. That means one block every minute, multiplied by the block depth you believe is sufficient to call your transaction immutable. Currently, the supposed ideal depth is six blocks deep, so one can expect to wait approximately an hour before their Bitcoin transaction is considered finalized.</section>

<section>So there's one aspect of Bitcoin that is a deficiency; it's slow at processing and finalizing transactions and does so in an inefficient and expensive way, both in virtue of the difficulty of its PoW algorithm, as well as the requirement of spacing out transactions by ten minutes to avoid block disputes. One could imagine engineering a cryptocurrency that reaches consensus in a quicker and more efficient manner, and indeed, many such cryptos have been produced.</section>

<section><b>Broader Socio-economic Concerns: Material Resources and Economic</b></section>
<section>Since PoW is construed as a game where validators compete to produce valid hashes before others, there is an incentive to scale your computers as much as possible to control a larger portion of the total network hash power. Miners will then buy up as many computing chips as they can, in order to increase their net hash rate; this drives demand for electricity, GPUs, and ASIC chips. Unfortunately, the PoW model will always imply a competition among computing resources, and adding additional computing power to a mining operation will <i>always</i> be an option so long as there are resources for producing them. This wouldn't be much of a concern if these components were cheap, but they require an amazing amount of technical capabilities to manufacture, and are composed of expensive, often rare conflict minerals such as coltan. When we are contemplating the vast socio-economic effects of the PoW paradigm, we must take into account how PoW's core incentivization of computing power affects the world market.</section>

<section>This market for high end processors ironically directs the Bitcoin mining community towards centralization. With the increasing interest in Bitcoin, the network hash rate has risen tremendously, and would-be laptop miners have been priced out of the mining market. If you tried mining Bitcoin on a laptop in 2021, it would be almost impossible to actually mine a valid block, as your net hash rate is incredibly small proportional to others. So all of that energy spent will ultimately go to waste. The only real options you have are to either 1). join a staking pool, in which you will receive a small fraction of the pool's payout, but this likely won't even cover the electricity costs. Or, 2). you can scale your computer up and out for thousands of dollars to be more on par with other smaller miners.</section>

<section>Moreso, operating a mining rig is not something everyone knows how to do. It takes some experience with computer networking and system administration to be able to maintain any realistic mining operation. So while mining purports to be open and available to everyone, it actually creates a particular economy of scale in the mining community, such that you can't really join and expect to do well without at least a few thousand dollars in capital. This economic barrier actually prevents large scale adoption of the validation process of Bitcoin, which impedes its attempt at being a decentralized asset.</section>

<section><b>Crypto Beyond PoW</b></section>
<section>Fortunately there are some alternatives to PoW that have been invented since the advent of Bitcoin. The crypto community seems to largely have favored the newer, more efficient Proof of Stake (PoS) model. Instead of relying on proportion of computing power on the network, PoS systems reach consensus through a process of election and voting based on their ownership of the native token of the platform. Ethereum, the world's second largest crypto by market cap, is currently in the process of transitioning from a PoW to a PoS model. In the future, Ethereum will be secured by people in virtue of their ownership of ETH, rather than their ownership of mining equipment. So, in Pow, a validator would hold approximately 1% of the power on the blockchain so long as they are responsible for approximately 1% of the total hash rate on the network. PoS, by contrast, would require someone to own 1% of all of the <i>native coins</i> to have 1% of the power on the blockchain. A few things can be said immediately about this change in the resource used.</section>

<section>For one, the resource you need control over in the PoS model is a virtual resource, it is created by the protocol in a certain fashion, and can't be generated ad hoc by any party. There are a few good reasons to choose these cryptos over PoW. First, they are much more efficient and have less computational overhead by design. PoW is centered around competing computing power; we would expect that the more adoption a PoW cryptocurrency sees, the more energy will be expended in mining it. In the PoS model, validators simply "stake" their coins in the consensus protocol, and there is no incentive to increase your computing power. Subsequently, the PoS consensus mechanism is much faster, less expensive, and far more efficient.</section>

<section>Additionally, it is generally much easier for the average investor to get ahold of this native coin. Typically, you would need to either buy a coin from an exchange, or mine it yourself. In the PoS model, once you have some amount of coins, you can generally stake them with little effort and earn interest on those coins. Importantly, the PoS model changes consensus power to be manifested in token ownership, not computing ownership. So instead of the divergence created in the PoW paradigm between miners and users, the PoS model makes it much easier for people who hold coins to participate in consensus without needing to buy powerful hardware. Moreover, ownership of coins in the PoS model often help for governance.</section>

<section>There exist a few other important caveats of the PoS model. For one, while the PoW model will always be subjected to intense economic influences from without (in virtue of its dependence on computing resources), the resources necessary in the PoS model are solely contained within the blockchain itself. Therefore, all of the resources for governing the protocol and securing the network are inside the system itself, and are subject to the economics of the particular cryptocurrency. If developers give a hard cap on a cryptocurrency, then the distribution of power in the ecosystem can be analyzed by looking at the distribution of coins. Another possible avenue for research exists in the possibility of creating a bunch of PoS coins and distributing them evenly amongst a population. If all these coin holders can stake their coins appropriately, then the system would be more or less initially decentralized. The possibility of an initial distibution of the resources required for reaching consensus cannot practically be accomplished in the PoW model, because this would imply distributing equitable computing resources (CPUs, GPUs, ASICs) to everyone who wishes to validate and hope that they don't simply go out and acquire more computing power.</section>

<section class="references"><b>References</b></div>
<ol>
	<li><section><a href="https://cbeci.org/">Cambridge Bitcoin Electricity Consumption Index</a></section></li>
	<li><section><a href="https://bitcoin.org/bitcoin.pdf">Bitcoin Whitepaper</a></section></li>
</ol>
</section>
