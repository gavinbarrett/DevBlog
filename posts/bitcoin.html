<!-- Post title goes here -->
<h3>Design Flaws in the Bitcoin Protocol</h3>

<!--  Post time goes here -->
<p>Posted on 05/17/2021 at 07:30:00 AM/PM</p>

<!-- Post tags go here -->
<p>#Bitcoin, #Proof of Work, #PoW, #cryptocurrency</p>

<section>Since its release in early 2009, Bitcoin has been everything from a internet meme to a lucrative investment asset. Proponents of Bitcoin believe in it for a multitude of reasons: some think it will be a hedge against the inflation of fiat currencies. Others are looking to gamble in their volatile markets. Others just want secure and convenient digital cash. With the advent of newer cryptocurrencies such as Ethereum, blockchains are also being used as entire application platforms. In the wake of the crypto surge of early 2021, something has become increasingly clear about the crypto market: Bitcoin has some glaring flaws in comparison to newer projects. Some of these flaws are small and can either be overcome or ignored. Others are more fundamental, and cast uncertainty on the future of Bitcoin. As we will see, most of these problems can be traced back to Bitcoin's proof of Work (PoW) consensus algorithm.</section>

<div class="img-wrapper">
	<img src="images/post_2/blockchain-structure.png"/>
	<p class="image-desc">The standard structure of a PoW blockchain</p>
</div>

<section><b>The Environmental Critique</b></section>
<section>One of the most common arguments you'll hear against Bitcoin involves its effect on the environment. Bitcoin uses a process referred to as "mining" in order to elect participants to update the status of the Bitcoin ledger. Each participant collects the information needed for the next block; this includes transaction data, the current time, and the cryptographic hash of the previous block, which allows us to link the blocks into a chain. Additionally, the participants compete by brute-force searching for a random number (called a nonce), appending it to the block data, and hashing all of this twice with the SHA-256 hash function. If the resulting digest is less than a certain target number, the miner found a valid nonce and is authorized to write the next block. This process relies on a brute force approach to electing a miner, so the vast majority of computing resources expended are effectively wasted. While this works, it's a pretty inefficient way for the network to reach consensus.</section>
<section>At the time of writing, the Bitcoin network uses approximately 151.16TWh of electricity per year.[1] Its proof of work algorithm adjusts the target number that a miner has to fall below to have a valid block. This adjustment is a function of the amount of hashes being executed on the network, which means that an increase in the hash rate will lower the target number of the algorithm, making the problem even more difficult to solve.[2] This contributes substantially to Bitcoin's energy problems, since lowering the target number lowers the probability that a hash will be valid.</section>
<section>It's important to mention that mining doesn't <i>inherently</i> have a high carbon footprint. It uses a lot of electricity, a decent amount likely comes from inefficient and harmful fuel sources like coal-powered plants. While the electricity consumption is quite easy to estimate, the actual carbon footprint and broader environmental impact is much more elusive. It's determined by a wide range of factors, including the geographic location of the mining equipment and the energy regulations governing its use, the capabilities and efficiency of the particular mining equipment, and the various, contingent sources of electricity that are powering these operations.</section>

<section>Satoshi Nakamoto, the purported creator of Bitcoin, characterized Bitcoin with the notion "one-CPU-one-vote".[3] The idea being that everyone would have a CPU available that could be put to work to secure the Bitcoin network in a decentralized way. The obvious shortcoming here is that people can easily own multiple CPUs, and there's a lot of diversity in the power available in modern CPUs and semiconductors. Nakamoto also seems to have failed to account for SHA-256's ability to be easily parallelized in hardware. This allows miners to execute tremendous amounts of hash computations on powerful GPUs as well as on custom, often patented ASIC chips, which were designed for and excel at these mining computations.</section>

<div class="img-wrapper">
	<img src="images/post_2/miningrig.jpg"/>
	<p class="image-desc">A small mining rig</p>
</div>

<section>Whereas Nakamoto probably intended for there to be a more equitable distribution in the hash power behind Bitcoin, the proof of work algorithm gives advantages to those with more computing power. As a result, we see miners constantly scaling their mining equipment, thereby taking over a larger portion of the total hash rate. As we will see, this need for expensive mining hardware creates an important rift in the Bitcoin community: there are normal users, and then there are miners who have thousands invested in hardware. This disparity in the hardware capabilities of users contributes substantially to the centralization of the network. Within the last three years, it's been estimated that anywhere from 60-80% of the total Bitcoin hash rate comes from China.[4][5]</section>

<section><b>What About Green Bitcoin?</b></section>

<section>There is a common objection to the environmental effects of Bitcoin that I call the "Green Bitcoin Defense". This argument begins by accepting the premise that Bitcoin could be detrimental to the environment in virtue of CO2-producing electricity sources. One would then claim that these electricity sources can be moved to renewable sources, thereby eliminating the negative environmental effects. The argument roughly follows this pattern:</section>
<section><b>1.</b> If <b>X</b> is powered entirely by renewables, then <b>X</b> has a negligible effect on the environment</section>
<section><b>2.</b> Bitcoin is powered entirely by renewables</section>
<section><b>&#8756</b> Bitcoin has a negligible effect on the environment</section>

<section>This argument is valid, but right now Bitcoin isn't powered entirely by renewables, so the conclusion doesn't follow. The truth of the conclusion relies on Bitcoin's hypothetical switch to renewable energy. And even if this happens, the proof of work algorithm would still imply massive electricity costs. Proponents of Bitcoin will use this objection to dodge any criticism of the envionmental effects. This is quite an insidious argument as it allows proponents to defer to some future world where these problems have been solved; it seems to operate more as a mechanism for defense and deflection than as an honest approach to fixing the electricity demands. Why should we be satisfied with slower, more expensive technology, when we could potentially engineer something that doesn't carry the computational overhead of proof of work?</section>

<section><b>The Engineering Critique</b></section>
<section>I believe a better argument exists that can be directed specifically at the electrical and algorithmic demands of Bitcoin. Not in regards to the environmental effects, but rather, critiquing the computational efficiency of its proof of work algorithm.</section>

<section>Not only does the difficulty of the proof of work algorithm increase as the hash rate increases, but the way that the algorithm works allows for there to be competing histories of the most recent blocks of the blockchain. Because the Bitcoin ledger can "fork" into multiple possible histories, new blocks are considered mutable until they're sufficiently deep in the blockchain.[6] It's not clear which depth would be ideal; theoretically someone could always come along with a tremendous amount of computing power and grow a fork until it is longer than the official blockchain. Since Bitcoin considers the longest chain to be the legitimate one, validators would end up mining off of this forked chain. So real transaction finality doesn't occur immediately with Bitcoin and, when it does, can still be pretty tenuous until more blocks are added.</section>

<section>Because Bitcoin's blockchain can fork into competing chains, there is a motivation to increase the difficulty of the proof of work algorithm so that blocks are validated at a regular enough pace, but that the problem isn't so easy to solve that large numbers of validators produce valid candidate blocks at the same time, thereby introducing massive amounts of forks, and uncertainty, into the blockchain.
</section>

<div class="img-wrapper">
	<img src="images/post_2/ledgerfork.png">
	<p class="image-desc">Competing histories from two miners</p>
</div>

<section>Subsequently, the Bitcoin protocol was designed to find a new block on average every ten minutes. But since Bitcoin forks, this time only relates to block <i>proposal</i> and not <i>finalization</i>. Finalizing a transaction usually takes more work, since the network will fork and reconcile disparities by choosing whichever fork becomes the longest. Users must wait for their blocks to be deep enough in the chain that they're confident they'd be computationally infeasible to redo. Many Bitcoin client apps use a depth of six blocks, so one can expect to wait approximately 10 mins * 6 blocks = 1 hour before their Bitcoin transaction is considered to be confirmed.</section>

<section>One thing I'll say about this approach to confirmation is that it relies on block depth when really it should mostly be concerned with its depth <i>from other forks</i>. It is possible that two adversaries with significantly high and similar hash rates can mine their own independent chains to the point where the last 6+ blocks are distinct. The first distinct blocks in each chain will be "confirmed" in virtue of their depth in the chain. But since we're assuming both chains have relatively the same hash rate, and are thus able to keep up with one another, it follows that the chains might be tied in their height, or one or two blocks away from one another. This would mean that one chain could quite easily surpass the other. Even though the first distinct blocks are deep enough for confirmation, one chain could grow farther than the other. Miners would then switch chains, invalidating the whole past chain of 6+ distinct blocks.</section>

<section>So we have several aspects of Bitcoin we can easily describe as deficient: it's slow at processing and finalizing transactions and does so in an inefficient and expensive way, both because of its proof of work algorithm as well as its forking and tenuous confirmation. Notice that with Bitcoin your transaction can be said to not be truly immutable; it only becomes exponentially harder to undo the proof of work. One could imagine engineering a cryptocurrency that reaches consensus in a quicker and more efficient manner, and indeed, many such cryptos have been created. The most innovative of them move away from the proof of work paradigm and its dependency on computing power.</section>

<section><b>Crypto-Socio-Economics: Access to the Resources</b></section>
<section>Since proof of work is construed as a game where validators compete to produce valid hashes before others, there's an incentive to scale your computers as much as possible to control a larger portion of the network hash rate. Miners will buy up as many computing chips as they can, in order to increase their own hash rate; this drives demand for electricity, GPUs, and ASIC chips. Unfortunately, the proof of work model will always imply a competition among computing resources, and adding additional computing power to a mining operation will <i>always</i> be an option so long as there are resources for producing them. Theoretically, there is no cap on the amount of computing power that can be allocated to Bitcoin. This wouldn't be much of a concern if electricity and hardware components were cheap and plentiful. But electricity needs to come from energy sources and the components require an amazing amount of technical capabilities to manufacture, being made with expensive, rare conflict minerals such as coltan. When we are contemplating the vast socio-economic effects of the proof of work paradigm, we must take into account how it's core incentivization of computing power affects the world market.</section>

<section>This market for high end processors ironically directs the Bitcoin mining community towards centralization. With the increasing interest in Bitcoin, the network hash rate has risen tremendously, and would-be laptop miners have been priced out of the mining market. If you tried mining Bitcoin on a laptop in 2021, it would be almost impossible to actually mine a valid block, as your net hash rate is incredibly small in proportion to others; all of those hashes will ultimately go to waste. The only real options you have are to either 1). join a staking pool, in which you will receive a small fraction of the pool's payout, but this wouldn't even cover your electricity costs. You could also 2). scale your computer for thousands of dollars to be more competitive with miners. But this solution isn't feasible for most hobbyists and retail investors. This prices them out of the mining market and helps to consolidate the hash rate with those who can afford the upfront costs of mining.</section>

<section>Even if you have the capital, operating a mining rig is not something everyone knows how to do. It takes some experience with computer networking and system administration to be able to maintain any realistic mining operation. So while mining purports to be open and available to everyone, it actually creates a particular economy of scale in the mining community, such that you can't really join and expect to do well without at least a few thousand dollars in capital and <i>some</i> technical capabilities. This socio-economic barrier actually prevents large scale participation in the mining process of Bitcoin, which impedes its attempt at being decentralized.</section>

<section><b>Crypto Beyond Proof of Work</b></section>
<section>Fortunately there are some alternatives to PoW that have been invented since the advent of Bitcoin. The crypto community seems to largely have favored the newer, more efficient Proof of Stake (PoS) model. Instead of relying on proportion of computing power on the network, PoS systems reach consensus through a process of election and voting based on their ownership of the native token of the platform. Ethereum, the world's second largest crypto by market cap, is currently in the process of transitioning from a PoW to a PoS model. In the future, Ethereum will be secured by people in virtue of their ownership of ETH, rather than their ownership of mining equipment. So, in Pow, a validator would hold approximately 1% of the power on the blockchain so long as they are responsible for approximately 1% of the total hash rate on the network. PoS, by contrast, would require someone to own 1% of all of the <i>online money supply</i> to have 1% of the power on the blockchain. A few things can be said immediately about this change in the resource used.</section>

<section>For one, the resource you need control over in the PoS model is a virtual resource. It is created by the protocol in a certain fashion, and can't be generated ad hoc by any party. There are a few good reasons to choose these cryptos over PoW. First, they are much more efficient and have less computational overhead by design. PoW is centered around competing computing power; we would expect that the more adoption a PoW cryptocurrency sees, the more energy will be expended in mining it. In the PoS model, validators simply "stake" their coins in the consensus protocol, and there is no incentive to increase your computing power. Subsequently, the PoS consensus mechanism is much faster, less expensive, and far more efficient, while functionally accomplishing the same goal of secure validator selection.</section>

<section>Additionally, it is generally much easier for the average investor to get a hold of this native coin. Typically, you would need to either buy a coin from an exchange, or mine it yourself. In the PoS model, once you have some amount of coins, you can usually stake them with little effort and earn interest on those coins. Importantly, the PoS model changes consensus power to be manifested in token ownership, not computing ownership. So instead of the divergence created in the PoW paradigm between miners and users, the PoS model makes it much easier for people who hold coins to participate in consensus without needing to buy powerful hardware.</section>

<section>There exist a few other important caveats of the PoS model. For one, while the PoW model will always be subjected to intense economic influences from without (in virtue of its dependence on computing resources), the resources necessary in the PoS model originate and remain in the ledger itself. Therefore, all of the resources for governing the protocol and securing the network are inside the system, and are subject to the economics of the particular cryptocurrency. If developers give a hard cap on a cryptocurrency, then the distribution of power in the ecosystem can be analyzed by looking at the distribution of online coins participating in consensus. Another possible avenue for research exists in the possibility of creating a bunch of PoS coins and distributing them evenly amongst a population. If all these coin holders can stake their coins appropriately, then the system would be more or less initially decentralized. The possibility of an initial distibution of the resources required for reaching consensus cannot practically be accomplished in the PoW model, because this would imply distributing equitable computing resources (CPUs, GPUs, ASICs) to everyone who wishes to validate and hope that they don't simply go out and acquire more computing power.</section>

<section><b>Conclusion</b></section>
<section>Bitcoin hasn't changed too much since its initial release, but it's inspired a huge wave of innovation in trustless, distributed computing systems. Many of these innovations add new functionality to blockchain networks, but the most important innovations address the major inefficiencies in PoW cryptos like Bitcoin. Among these are slow transaction times, expensive fees, and most importantly, the insane electricity requirements and scaling problems of the PoW paradigm. This paradigm relies on hash power from computing resources that exists outside of the ledger. Subsequently, the demand for higher hash rates heavily affects these markets, and create barriers of entry for hobbyists and retail investors. Luckily, these deficiencies have given rise to tremendous research and numerous innovations, allowing newer blockchain technology to eschew the computational bottlenecks of proof of work. At the time of writing, Ethereum, the second largest crypto by market cap, is planning to transition away from PoW and towards PoS. Whether or not Bitcoin will be able to follow suit and adapt in this increasingly competitive market is still unknown. Technology is increasing at a rapid pace, and Bitcoin's fundamentals are at risk of being left behind. Proof of work, which was once a novel concept for reaching consensus, might very well be the death knell of Bitcoin.</section>

<section class="references"><b>References</b></div>
<ol>
	<li><section><a href="https://cbeci.org/">Cambridge Bitcoin Electricity Consumption Index</a></section></li>
	<li><section><a href="https://bitcoin.org/bitcoin.pdf">Nakamoto, Satoshi, "Bitcoin: A Peer-to-Peer Electronic Cash System", p3</a></section></li>
	<li><section><a href="https://bitcoin.org/bitcoin.pdf">Ibid</a></section></li>
	<li><section><a href="https://www.goldmansachs.com/insights/pages/crypto-a-new-asset-class-f/report.pdf">Goldman Sachs, "Crypto: A New Asset Class?", p19</a></section></li>
	<li><section><a href="https://arxiv.org/abs/1810.02466">Kaiser, Ben, Mireya Jurado, Alex Ledger, "The Looming Threat of China: An Analysis of Chinese Influence on Bitcoin", p5</a></section></li>
	<li><section><a href="https://bitcoin.org/bitcoin.pdf">Nakamoto, Satoshi, "Bitcoin: A Peer-to-Peer Electronic Cash System", p7</a></section></li>
</ol>
</section>
